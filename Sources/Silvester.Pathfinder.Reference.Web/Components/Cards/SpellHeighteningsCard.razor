@using Silvester.Pathfinder.Official.Web.Shared.Preferences;
@using Silvester.Pathfinder.Official.Web.Shared.Cards;
@using Silvester.Pathfinder.Official.Web.Shared.Tables;
@using Silvester.Pathfinder.Official.Web.Services;
@using Silvester.Pathfinder.Official.Web.Shared.Chips;

@if (Spell != null)
{
<div>
    <CardToolbar>
        <MudText Typo="Typo.h6">Spell Heightenings</MudText>
        <MudToolBarSpacer />
    </CardToolbar>
    <MudDivider />
    @if(Spell.Heightenings.Count > 0)
    {
        <PreferenceCategory>
            @for (int i = 0; i < Spell.Heightenings.Count; i++)
            {
                <PreferenceItemText Title="@("Heightened (" + Spell.Heightenings[i].Level  + ")")" />
                <PreferenceItemTextBlocks TextBlocks="@Spell.Heightenings[i].Details" />

                if (i != Spell.Heightenings.Count - 1)
                {
                    <MudDivider />
                }
            }
        </PreferenceCategory>
    }
    else
    {
        <div style="display:flex; width:100%; height: 100%; justify-content: center;">
            <MudText Style="padding: 80px;">Spell cannot be cast at higher levels.</MudText>
        </div>
    }
</div>
}

@code {
    [Parameter]
    public IGetSpellById_Spells_Items Spell { get; set; } = default!;

    [Inject]
    public NavigationManager NavigationManager { get; set; } = default!;
}
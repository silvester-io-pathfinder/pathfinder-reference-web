@using Silvester.Pathfinder.Official.Web.Shared.Cards;
@using Silvester.Pathfinder.Official.Web.Shared.Preferences;

<div>
    <CardToolbar>
        <MudText Typo="@Typo.h6">@MagicComponent.Name</MudText>
        @if (Inspectable)
        {
            <MudToolBarSpacer />
            <MudTooltip Text="Inspect">
                <MudIconButton Size="Size.Medium" OnClick="@(() => OnInspectClick())" Icon="@Icons.Material.Outlined.ArrowForward"></MudIconButton>
            </MudTooltip>
        }
    </CardToolbar>
    <MudDivider />
    <PreferenceCategory Title="Description">
        <PreferenceItemText Text="@MagicComponent.Description" />
    </PreferenceCategory>
</div>


@code {
    [Parameter]
    public IMagicComponent MagicComponent { get; set; } = default!;

    [Parameter]
    public bool Inspectable { get; set; } = false;

    [Inject]
    public NavigationManager NavigationManager { get; set; } = default!;

    public void OnInspectClick()
    {
        NavigationManager.NavigateTo($"magic-components/{MagicComponent.Id}");
    }
}
